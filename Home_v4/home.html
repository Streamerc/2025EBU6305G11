<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Math Quest</title>
  <link href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="home.css">
</head>
<body>
  <header>
    <h2>Math Quest</h2>
    <nav class="nav-bar">
      <a href="home.html">Home</a>
      <a href="learning.html">Learning</a>
      <a href="test.html">Test</a>
      <a href="game.html">Game</a>
      <a href="community.html">Community</a>
    </nav>
    <div class="lang-switch">
      <button onclick="setLanguage('zh')">中文</button>
      <button onclick="setLanguage('en')">EN</button>
      <button class="accessibility-btn" onclick="toggleColorblindMode()" data-key="common.toggle_cb">Colorblind Mode</button>
      <button class="btn accessibility-btn" onclick="toggleDarkMode()" data-key="common.toggle_dark">Dark Mode</button>
    </div>
  </header>
  
  

  <main id="page1">
    <h1 data-key="home.title">Turn Math into a Playful and Visual Experience</h1>
    <img src="icon/主题.jpg" alt="Theme Banner" class="theme-banner" />
    <a href="learning.html" class="nav-bar-btn" data-key="common.start_learning">Start Learning</a>

    <div class="features">
      <div class="feature-item">
        <img src="icon/college.png" alt="Visual Learning Icon" class="feature-icon" />
        <strong data-key="home.features.interactive.title">Interactive Visual Learning</strong>
        <p data-key="home.features.interactive.desc">Explore mathematical concepts through dynamic graphs and sliders that make learning feel intuitive and engaging.</p>
      </div>
      <div class="feature-item">
        <img src="icon/game-console.png" alt="Game Icon" class="feature-icon" />
        <strong data-key="home.features.game.title">Fun Math Games</strong>
        <p data-key="home.features.game.desc">Turn problem-solving into play with games that challenge logic, boost speed, and reinforce key skills.</p>
      </div>
      <div class="feature-item">
        <img src="icon/children.png" alt="Personalized Learning Icon" class="feature-icon" />
        <strong data-key="home.features.personal.title">Personalized Learning</strong>
        <p data-key="home.features.personal.desc">Students learn at their own pace: first identifying knowledge gaps, then mastering each topic with focused support.</p>
      </div>
    </div>

    <div class="section-group">
      <div class="section">
        <h3 data-key="home.sections.featured_game">Featured Game</h3>
        <img src="game_example.jpg" alt="Game Preview" class="game-preview" />
        <a href="game.html" class="play-now-btn">
          <span class="btn-left">
            <img src="icon/console.png" alt="Console Icon" />
            <span data-key="common.play_now">PLAY NOW</span>
          </span>
          <span class="btn-right">▶</span>
        </a>
      </div>
      <div class="section">
        <h3 data-key="home.sections.learners_say">What Learners Say</h3>
        <div class="quote-box" id="quote-box">“I finally understand parabolas!”<br/>– Leo, 16</div>
        <h4 style="margin-top: 2rem;" data-key="home.sections.parents_say">What Parents Say</h4>
        <div class="quote-box" id="parent-quote-box">“My son finally stopped dreading math homework!”<br/>– Mrs. Chen</div>
      </div>
      <div class="section">
        <h3 data-key="home.sections.contact_us">Contact Us</h3>
        <p data-key="home.sections.email_phone">Email: support@mathquest.com<br>Phone: +86 123-456-7890</p>
        <div style="margin-top: 1rem;">
          <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3153.019190281129!2d-122.08424968468106!3d37.42206597982571!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x808fb73278a6f10f%3A0x89b7a55e74b9a05c!2sGoogleplex!5e0!3m2!1sen!2sus!4v1618342438651!5m2!1sen!2sus" width="100%" height="200" style="border:0; border-radius: 10px; margin-top: 1rem;" allowfullscreen="" loading="lazy"></iframe>
        </div>
      </div>
    </div>

    <footer style="text-align:center; padding:1rem; font-size:0.9rem;">
      <p data-key="common.privacy_notice">This site does not collect personal data. No cookies are used.</p>
    </footer>
  </main>

  <script>
    let currentLang = 'en';
    let translations = {};

    fetch('lang.json')
      .then(res => res.json())
      .then(data => {
        translations = data;
        applyLanguage(currentLang);
      });

    function setLanguage(lang) {
      currentLang = lang;
      applyLanguage(lang);
    }

    function applyLanguage(lang) {
      document.querySelectorAll('[data-key]').forEach(el => {
        const key = el.getAttribute('data-key');
        const keys = key.split('.');
        let value = translations;
        for (let k of keys) value = value?.[k];
        if (value?.[lang]) el.innerHTML = value[lang];
      });
    }

    const quotes = [
      `"I finally understand parabolas!" – Leo, 16`,
      `"This site made functions fun for once!" – Ava, 15`,
      `"I used to be afraid of math. Now I love it!" – Max, 17`,
      `"The graphs and sliders are so helpful!" – Emma, 14`,
      `"It’s like playing a game while learning!" – Jack, 13`
    ];
    let currentQuote = 0;
    function changeQuoteAuto() {
      document.getElementById("quote-box").innerHTML = quotes[currentQuote];
      currentQuote = (currentQuote + 1) % quotes.length;
    }
    changeQuoteAuto();
    setInterval(changeQuoteAuto, 2500);

    const parentQuotes = [
      `"My son finally stopped dreading math homework!" – Mrs. Chen`,
      `"The interactive tools help me assist my daughter better." – Mr. Patel`,
      `"Finally, a math site that’s fun and effective!" – Mrs. Lopez`,
      `"My child now teaches *me* how graphs work!" – Mr. Zhang`,
      `"She’s never been this confident in math class." – Ms. Thompson`
    ];
    let currentParentQuote = 0;
    function changeParentQuoteAuto() {
      document.getElementById("parent-quote-box").innerHTML = parentQuotes[currentParentQuote];
      currentParentQuote = (currentParentQuote + 1) % parentQuotes.length;
    }
    changeParentQuoteAuto();
    setInterval(changeParentQuoteAuto, 3500);

    function toggleColorblindMode() {
      document.body.classList.toggle("colorblind-mode");
    }
    function toggleDarkMode() {
      document.body.classList.toggle("dark-mode");
    }
  </script>
</body>
</html>
